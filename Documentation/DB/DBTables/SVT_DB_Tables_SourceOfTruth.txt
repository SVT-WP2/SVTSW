Table Version {
  id integer [primary]
  name string
  baseversion integer [ref: > Version.id]
  creationtime timestamp [DEFAULT CURRENT_TIMESTAMPE]
  description string
}

Table WaferType {
  id integer [primary key, increment]
  name string
  engineeringrun engineeringRun
  foundry foundry
  technology waferTech
  wafermap JSON
}

Table WaferTypeImage {
  wafertypeid integer [ref: > WaferType.id, Not Null]
  imageBase64String string [Not Null]
}

Table WaferTypeSubMap {
  wafertypeid integer [ref: > WaferType.id]
  orientation waferMapOrientation
  wafertypesubmap JSON
}

Table Wafer {
  id integer [primary key, increment]
  serialnumber string [unique]
  batchnumber integer
  thinningdate date
  dicingdate date
  productiondate date
  wafertypeid integer [ref: > WaferType.id]
}

Table Asic {
  id integer [primary key, increment]
  waferid integer [ref: > Wafer.id]
  serialnumber string [unique]
  familytype asicFamilyType
  wafermapposition string
}

Table ProbeCard {
  id integer [primary key, increment]
  serialnumber string [unique]
  vendor pcVendor
  name pcName
  model pcModel
  version integer
  arrivedat date
  location pcLocation
  type pcType
  vendorcleaninginterval integer
}

Table ProbeCardFamilyType {
  probecardid integer [ref: > ProbeCard.id]
  asicfamilytype asicFamilyType [ref: > Asic.familytype]
}

Table WaferProbeMachine {
  id integer [primary key, increment]
  name string [unique]
  hostname string
  connectiontype wpConnectionType
  connectionport integer
  generallocation wpGeneralLocation
  software wpSwType
  swVersion string
  vendor wpVendor
  probecardid integer [ref: > ProbeCard.id]
}

Table WaferProbeProject {
  id integer [primary key, increment]
  wpmachineid integer [ref: > WpMachine.id]
  wafertypeid integer [ref: > WaferType.id]
  asicfamilytype asicFamilyType [ref: > Asic.familytype]
  orientation waferMapOrientation
  name string [unique]
  alignmentdie string
  homedie string
}

Table ProbeCardMaintenance {
  id integer [primary key, increment]
  probecardid integer [ref: > ProbeCard.id]
  cleaningdate date
  totnumcontacts integer
  numcontactssincelastcleaning integer
  numcontactsduringcleaning integer
  cleaningoverdrive integer
}

Table AsicProbingInfo {
  id integer [primary key, increment]
  asicid integer [ref: > Asic.id]
  numcontacts integer
  mechanicalquality contactMechanicalQuality
  arrivedat date
}

Table WaferLoadedInMachine {
  id integer [primary key, increment]
  machineid integer [ref: > WaferProbeMachine.id]
  waferserialnumber string [ref: > Wafer.serialnumber]
  date date
  username string
  status waferInMachineStatus
}

Table AsicConfiguration {
  id integer [primary key, increment]
  probestationid integer [ref: > WaferProbeMachine.id]
  versionid integer [ref: > Version.id]
  istestingallowed boolean
}

Table WpConfiguration {
  id integer [primary key, increment]
  wpmachineid integer [ref: > WaferProbeMachine.id]
  versionid integer [ref: > Version.id]
  orientation waferMapOrientation
}

Table ProbeCardConfiguration {
  id integer [primary key, increment]
  probecardid integer [ref: > ProbeCard.id]
  versionid integer [ref: > Version.id]
  cleaninginterval integer
}

Enum engineeringRun {
  ER1
  ER2
  ER3
  LAS1
  Ancillary1
}

Enum foundry {
  TowerSemiconductor
  Xfab
}

Enum waferTech {
  TPSCo65
  Xfab110
}

Enum asicFamilytype {
  MOSS
  BabyMOSS
  NKF7
  MOSAIX
  BabyMOSAIX
  LAS
  Ancillary
}

Enum waferMapOrientation {
  North
  South
  East
  West
}

Enum wpConnectionType {
  TCPIP
  GPIB
  RS232
  USB
  Ethernet
  Modbus
  LAN
}

Enum wpGeneralLocation {
  CERN_186_R_E10
  Prague
  LosAlamos
  BNL
  RAL
}

Enum wpSwType {
  Sentio
  VeloxCascade
}

Enum wpVendor {
  MPI
  CascadeMicrotech
  FormFactor
}

Enum pcVendor {
  MPI
  Korea
  Synergie
  FormFactorPC
}

Enum pcName {
  NKF7_MPI
  BabyMOSS_Korea
  Mosaix_Korea
}

Enum pcModel {
  NKF7
  MosaixLeft
  MosaixRight
  LAS
  BabyMOSS
  Ancillary
}

Enum pcLocation {
  CERN
  Prague
  LosAlamos
  BNL
  RAL
}

Enum pcType {
  Vertical
  Cantilever
}

Enum contactMechanicalQuality {
  Good
  Bad
  AvoidIfPossible
}

Enum waferInMachineStatus {
  Loaded
  Unloaded
}


