Table main.WaferType {
  id integer [primary key, increment]
  name varchar(50) [not null]
  engineeringRun main.engineeringRun [not null]
  foundry main.foundryName [not null]
  technology main.waferTech [not null]
  waferMap JSON [not null]
}

Table main.Wafer {
  id integer [primary key, increment]
  waferTypeId integer [ref: > main.WaferType.id, not null]
  serialNumber varchar(50) [unique, not null]
  batchNumber integer [not null]
  thinningDate date
  dicingDate date
  productionDate date
  generalLocation main.wpGeneralLocation
}

Table main.WaferLocation {
  waferId integer [ref: > main.Wafer.id, not null]
  location main.siteGeneralLocation [not null]
  creationTime timestamp [default: `CURRENT_TIMESTAMP`]
  username varchar(50)
  note text
}

Table main.Version {
  id integer [primary key, increment]
  name varchar(50) [not null]
  baseVersion integer [ref: > main.Version.id]
  creationTime timestamp [default: `CURRENT_TIMESTAMP`]
  note text
}

Table main.WaferTypeImage {
  waferTypeId integer [ref: > main.WaferType.id, not null]
  imageBase64String text [not null]
}

Table main.Asic {
  id integer [primary key, increment]
  waferId integer [ref: > main.Wafer.id, not null]
  serialNumber varchar(50) [unique, not null]
  familyType main.asicFamilyType [not null]
  waferMapPosition varchar(50) [not null]
  quality main.asicQuality [not null]
}

Table main.ProbeCard {
  id integer [primary key, increment]
  serialNumber varchar(50) [unique, not null]
  vendor main.pcVendor [not null]
  name main.pcName [not null]
  model main.pcModel [not null]
  version integer [not null]
  arrivalDate date [not null]
  location main.pcLocation [not null]
  type main.pcType [not null]
  vendorCleaningInterval integer [not null]
}

Table main.ProbeCardFamilyType {
  probeCardId integer [ref: > main.ProbeCard.id, not null]
  asicFamilyType main.asicFamilyType [not null]
}

Table main.WaferProbeMachine {
  id integer [primary key, increment]
  serialNumber varchar(50) [unique, not null]
  name varchar(50) [unique, not null]
  hostName varchar(200) [not null]
  connectionType main.wpConnectionType [not null]
  connectionPort integer [not null]
  generalLocation main.wpGeneralLocation [not null]
  software main.wpSwType [not null]
  swVersion varchar(50) [not null]
  vendor main.wpVendor [not null]
}

Table main.WaferProbeProject {
  id integer [primary key, increment]
  wpMachineId integer [ref: > main.WaferProbeMachine.id, not null]
  waferTypeId integer [ref: > main.WaferType.id, not null]
  asicFamilyType main.asicFamilyType
  orientation main.waferMapOrientation
  name varchar(100) [unique, not null]
  alignmentDie varchar(100)
  homeDie varchar(100)
  local2GlobalMap JSON
}

Table main.ProbeCardMaintenance {
  id integer [primary key, increment]
  probeCardId integer [ref: > main.ProbeCard.id, not null]
  cleaningDate date
  totNumContacts integer
  numContactsSinceLastCleaning integer
  numContactsDuringCleaning integer
  cleaningOverdrive integer
}

Table main.AsicProbing {
  id integer [primary key, increment]
  asicId integer [ref: > main.Asic.id]
  numContacts integer
  mechanicalQuality main.contactMechanicalQuality
  arrivalDate date
}

Table main.WaferLoadedInMachine {
  machineId integer [ref: > main.WaferProbeMachine.id]
  waferId integer [ref: > main.Wafer.id]
  date date
  userName varchar(50)
  status main.waferInMachineStatus
}

Table main.ProbeCardInstalledInMachine {
  machineId integer [ref: > main.WaferProbeMachine.id]
  probeCardId integer [ref: > main.ProbeCard.id]
  date date
  userName varchar(50)
}

Table main.AsicConfiguration {
  id integer [primary key, increment]
  probeStationId integer [ref: > main.WaferProbeMachine.id]
  versionId integer [ref: > main.Version.id]
  isTestingAllowed boolean
}

Table main.WpConfiguration {
  id integer [primary key, increment]
  wpMachineId integer [ref: > main.WaferProbeMachine.id]
  versionId integer [ref: > main.Version.id]
  orientation main.waferMapOrientation
}

Table main.ProbeCardConfiguration {
  id integer [primary key, increment]
  probeCardId integer [ref: > main.ProbeCard.id]
  versionId integer [ref: > main.Version.id]
  cleaningInterval integer
}

Table main.Chip{
  id integer [primary key, increment]
  serialNumber varchar(50) UNIQUE
  asicId integer [ref: > main.Asic.id]
  generalLocation main.wpGeneralLocation
}

Table main.ChipLocation {
  chipId integer [ref: > main.Chip.id, not null]
  generalLocation main.wpGeneralLocation
  creationTime timestamp [default: `CURRENT_TIMESTAMP`]
  username varchar(50)
  note text
}

Table main.SLDO{
  id integer [primary key, increment]
  chipId integer [ref: > main.Chip.id]
  serialNumber varchar(50)
}

Table main.TestSetup {
  id integer [primary key]
  name main.testSetupType
  location main.wpGeneralLocation
}

Table main.TestSetupEquipment
{
  testSetupId integer [ref: > main.TestSetup.id]
  equipment main.testEquipments
  eqipmentDetails JSON
}

Table main.SLDOTestConfiguration {
  id integer [primary key, increment]
  name varchar(100)
  mode main.sldoTestModes
  loadCapacitance main.sldoTestLoadCap
  loadCurrent main.sldoTestLoadCurrent
  temperature main.sldoTestTemparature
}

Table main.SLDOTest {
  id integer [primary key, increment]
  name main.sldoTestTypes
  timestamp timestamp [default: `CURRENT_TIMESTAMP`]
  SLDOid integer [ref: > main.SLDO.id]
  testSetupId integer [ref: > main.TestSetup.id]
  configId integer [ref: > main.SLDOTestConfiguration.id]
  testValues JSON
}

Enum main.engineeringRun {
  ER1
  ER2
  ER3
  LAS1
  Ancillary1
}

Enum main.foundryName {
  TowerSemiconductor
  Xfab
}

Enum main.waferTech {
  TPSCo65
  Xfab110
}

Enum main.asicFamilyType {
  MOST    
  MOSS
  BABYMOSS
  BABYMOST
  NKF7
  MOSAIX
  BabyMOSAIX
  LAS
  AncMPW1
  AncMPW2
  AncMPW3
  AncBrain
  AncASIC
  CE65_V1CG_15U_SQ
  CE65_V2CG_15U_SQ
  CE65_V2CG_18U_SQ
  CE65_V2CG_18U_HSQ
  CE65_V2CG_22U5_SQ
  CE65_V2CG_22U5_HSQ
  CE65_V2CN_15U_SQ
  CE65_V2CN_18U_SQ
  CE65_V2CN_18U_HSQ
  CE65_V2CN_22U5_SQ
  CE65_V2CN_22U5_HSQ
  AO10P
  AO10
  AO10B
  S
  DESY
  NONAME1
  CE65_V1CN_15U_SQ
  NONAME2
  CE65_V1CB_15U_SQ
  dPTSN
  dPTS
  AF15P
  AF15B
  AF15
  RAL_TXRX_ER1    
  TTS_5
  TTS_4
  CE65_V2CB_15U_SQ
  CE65_V2CB_22U5_SQ
  CE65_V2CB_18U_HSQ
  CE65_V2CB_22U5_HSQ
  CE65_V2CB_18U_SQ
  NKF5
  NKF6
  NONAME5
  SEU_2_INFN_BAR_GDR
  SEU_1_INFN_BAR_GDR
  TTS_3
  TTS_2
  TTS_1
}

Enum main.waferMapOrientation {
  North
  South
  East
  West
}

Enum main.wpConnectionType {
  TCPIP
  GPIB
  RS232
  USB
  Ethernet
  Modbus
  LAN
}

Enum main.wpGeneralLocation {
  CERN_186_R_E10
  Prague
  LosAlamos
  BNL
  RAL
  Darsburry
  Brunel
  Birmingham
  Liverpool
  LBL
}

Enum main.wpSwType {
  Sentio
  VeloxCascade
}

Enum main.wpVendor {
  MPI
  CascadeMicrotech
  FormFactor
}

Enum main.pcVendor {
  MPI
  Korea
  Synergie
  FormFactorPC
}

Enum main.pcName {
  NKF7_MPI
  BabyMOSS_Korea
  Mosaix_Korea
}

Enum main.pcModel {
  "NKF7-TS3500-CABLEOUT-MLO(EVS-P)"
  MosaixLeft
  MosaixRight
  LAS
  BabyMOSS
  Ancillary
}

Enum main.pcLocation {
  CERN
  Prague
  LosAlamos
  BNL
  RAL
 }

Enum main.pcType {
  Vertical
  Cantilever
}

Enum main.asicQuality {
  MechanicallyDamaged
  MechanicallyInteger
  CoveredByGreenLayer
}

Enum main.contactMechanicalQuality {
  Good
  Bad
  AvoidIfPossible
}

Enum main.waferInMachineStatus {
  Loaded
  Unloaded
}

Enum main.testEquipments {
  oscilloscope
  powerSupply
  signalGenetaor
  SMU
}

Enum main.sldoTestTypes {
  Power_ramp_up
  PSRR
  Power_Ramp_rate
  DAC_Scan
  Overcurrent
  Irradiation
}

Enum main.sldoTestModes {
  Mode0
  Mode1
}

Enum main.sldoTestRampTime {
  100us
  1ms
  10ms
  100ms
  1s
}

Enum main.sldoTestLoadCap {
  10nF
  100nF
  1uF
  10uF
}

Enum main.sldoTestLoadCurrent {
  40mA
  500mA
  900mA
}

Enum main.sldoTestTemparature {
  "-20C"
  27C
  60C
  105C
}

Enum main.testSetupType {
  SLDO_MPW1
  NVG_MPW2
  ER1_MOSAIX
}